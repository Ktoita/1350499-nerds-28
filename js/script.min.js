let feedbackOpen=document.querySelector(".popup-open"),feedbackPopup=document.querySelector(".popup-feedback"),feedbackClose=feedbackPopup.querySelector(".popup-close"),feedbackForm=feedbackPopup.querySelector(".feedback__form"),addresseeName=feedbackPopup.querySelector(".addressee-name"),addresseeEmail=feedbackPopup.querySelector(".addressee-email"),feedbackLetter=feedbackPopup.querySelector(".feedback-letter"),slider=document.querySelector(".slider"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("name"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}feedbackOpen.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.add("popup-feedback--show"),storageName?(addresseeName.value=storageName,addresseeEmail.focus(),storageEmail?(addresseeEmail.value=storageEmail,feedbackLetter.focus()):addresseeEmail.focus()):addresseeName.focus()}),feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedbackPopup.classList.remove("popup-feedback--show"),feedbackPopup.classList.remove("popup-feedback--error")}),feedbackForm.addEventListener("submit",function(e){addresseeName.value&&addresseeEmail.value&&feedbackLetter.value?isStorageSupport&&(localStorage.setItem("name",addresseeName.value),localStorage.setItem("email",addresseeEmail.value)):(e.preventDefault(),feedbackPopup.classList.remove("popup-feedback--error"),feedbackPopup.offsetWidth=feedbackPopup.offsetWidth,feedbackPopup.classList.add("popup-feedback--error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&feedbackPopup.classList.contains("popup-feedback--show")&&(e.preventDefault(),feedbackPopup.classList.remove("popup-feedback--show"),feedbackPopup.classList.remove("popup-feedback--error"))});